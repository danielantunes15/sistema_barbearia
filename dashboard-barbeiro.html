<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Barbearia - Dashboard Barbeiro</title>

    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    
    <link rel="stylesheet" href="css/base.css">
    <link rel="stylesheet" href="css/dashboard.css">
</head>
<body id="dashboard-barbeiro">
    <div class="container">
        <div class="header">
            <h1>Dashboard Barbeiro</h1>
            <div>
                <span id="barbeiroNome" style="margin-right: 15px;">Carregando...</span>
                <button id="logoutBtn" class="btn-secondary">Sair</button>
            </div>
        </div>
        
        <div class="stats-grid">
            <div class="stat-card">
                <h4>Total Clientes</h4>
                <div class="stat-number" id="totalClientes">0</div>
            </div>
            <div class="stat-card">
                <h4>Cortes Hoje</h4>
                <div class="stat-number" id="cortesHoje">0</div>
            </div>
            <div class="stat-card">
                <h4>Cortes Mês</h4>
                <div class="stat-number" id="cortesMes">0</div>
            </div>
            <div class="stat-card">
                <h4>Fidelidades Próximas</h4>
                <div class="stat-number" id="totalFidelidadesProximas">0</div>
            </div>
        </div>
        
        <div class="actions">
            <a href="scanner.html" class="btn">Escanear QR Code</a>
            <a href="relatorios.html" class="btn btn-secondary">Relatórios</a>
            <a href="gerenciar-usuarios.html" class="btn btn-secondary" style="background-color: #555;">Gerenciar Usuários</a>
        </div>
        
        <div class="card">
            <h3>Agendamentos de Hoje (<span id="dataAgendamentos">Carregando...</span>)</h3>
            <div id="agendamentosHoje" class="clientes-lista">
                <p style="text-align: center; color: #b3b3b3;">Carregando agendamentos...</p>
            </div>
        </div>
        <div class="card">
            <h3>Clientes Próximos da Fidelidade (8+ pontos)</h3>
            <div id="clientesProximos" class="clientes-lista">
                </div>
        </div>
        
        <div class="card">
            <h3>Todos os Clientes</h3>
            <div class="search-bar">
                <input type="text" id="searchClient" placeholder="Buscar cliente...">
            </div>
            <div id="todosClientes" class="clientes-lista">
                </div>
        </div>
        
        <div class="card">
            <h3>Estatísticas de Frequência</h3>
            <div id="estatisticasFrequencia" class="stats-container">
                </div>
        </div>
    </div>
    
    <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/crypto-js/4.2.0/crypto-js.min.js"></script>
    
    <script src="js/config.js"></script>
    <script src="js/api.js"></script>
    <script src="js/utils.js"></script>
    <script src="js/auth.js"></script>
    
    <script src="js/pages/barbeiro.js"></script>
    
    <script src="js/main.js"></script>
</body>
</html>